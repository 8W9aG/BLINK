# This viminfo file was generated by Vim 8.0.
# You may edit it if you're careful!

# Viminfo version
|1,4

# Value of 'encoding' when this file was written
*encoding=utf-8


# hlsearch on (H) or off (h):
~h
# Last Search Pattern:
~MSle0~/models

# Last Substitute Search Pattern:
~MSle0&blink

# Last Substitute String:
$elq

# Command Line History (newest to oldest):
:q
|2,0,1600731847,,"q"
:w
|2,0,1600672503,,"w"
:wq
|2,0,1600728541,,"wq"
:$
|2,0,1600728521,,"$"
:0
|2,0,1600728514,,"0"
:%s/blink/elq/gc
|2,0,1600541575,,"%s/blink/elq/gc"
:%s/Blink/Elq/gc
|2,0,1600541567,,"%s/Blink/Elq/gc"
:%s/BLINK/ELQ/gc
|2,0,1600541546,,"%s/BLINK/ELQ/gc"

# Search String History (newest to oldest):
?/models
|2,1,1600672477,47,"models"
?/get_entity_description
|2,1,1600672387,47,"get_entity_description"
?/load
|2,1,1600541839,47,"load"
?/save_model
|2,1,1600728414,47,"save_model"
?/write_t
|2,1,1600728405,47,"write_t"
?/read_dataset
|2,1,1600728397,47,"read_dataset"
?/get_logger
|2,1,1600728381,47,"get_logger"
?/accuracy
|2,1,1600728375,47,"accuracy"
?/BertReranker
|2,1,1600728296,47,"BertReranker"
?/blink
|2,1,1600728157,47,"blink"
?/add_mention_bounds
|2,1,1600541791,47,"add_mention_bounds"
?/candidate_token_ids
|2,1,1600541663,47,"candidate_token_ids"
?/entity
|2,1,1600541660,47,"entity"
?/candidate_token_ids = torch.
|2,1,1600541628,47,"candidate_token_ids = torch."
? blink
|2,1,1600541575,,"blink"
? Blink
|2,1,1600541567,,"Blink"
? BLINK
|2,1,1600541546,,"BLINK"

# Expression History (newest to oldest):

# Input Line History (newest to oldest):

# Debug Line History (newest to oldest):

# Registers:
"1	LINE	0
	#
|3,0,1,1,1,0,1600728541,"#"
"2	LINE	0
	#
|3,0,2,1,1,0,1600728537,"#"
"3	LINE	0
	#
|3,0,3,1,1,0,1600728535,"#"
"4	LINE	0
	#
|3,0,4,1,1,0,1600728529,"#"
"5	LINE	0
	#
|3,0,5,1,1,0,1600728527,"#"
"6	LINE	0
	from blink.candidate_ranking.bert_reranking import BertReranker
|3,0,6,1,1,0,1600728519,"from blink.candidate_ranking.bert_reranking import BertReranker"
"7	CHAR	0
	
	
	def get_reranker(parameters):
	    return BertReranker(parameters)
	
|3,0,7,0,5,0,1600728510,"","","def get_reranker(parameters):","    return BertReranker(parameters)",""
"8	CHAR	0
	
	
	def filter_samples(samples, top_k, gold_key="gold_pos"):
	    if top_k == None:
	        return samples
	
	    filtered_samples = [
	        sample
	        for sample in samples
	        if sample[gold_key] > 0 and sample[gold_key] <= top_k
	    ]
	    return filtered_samples
	
	
	def _truncate_seq_pair(tokens_a, tokens_b, max_length):
	    """Truncates a sequence pair in place to the maximum length."""
	    while True:
	        total_length = len(tokens_a) + len(tokens_b)
	        if total_length <= max_length:
	            break
	        if len(tokens_a) > len(tokens_b):
	            tokens_a.pop()
	        else:
	            tokens_b.pop()
	
	
	def eval_precision_bm45_dataloader(dataloader, ks=[1, 5, 10], number_of_samples=None):
	    label_ids = torch.cat([label_ids for _, _, _, label_ids, _ in dataloader])
	    label_ids = label_ids + 1
	    p = {}
	
	    for k in ks:
	        p[k] = 0
	
	    for label in label_ids:
	        if label > 0:
	            for k in ks:
	                if label <= k:
	                    p[k] += 1
	
	    for k in ks:
	        if number_of_samples is None:
	            p[k] /= len(label_ids)
	        else:
	            p[k] /= number_of_samples
	
	    return p
	
|3,0,8,0,48,0,1600728494,"","","def filter_samples(samples, top_k, gold_key=\"gold_pos\"):","    if top_k == None:","        return samples","","    filtered_samples = [","        sample","        for sample in samples","        if sample[gold_key] > 0 and sample[gold_key] <= top_k","    ]","    return filtered_samples","","","def _truncate_seq_pair(tokens_a, tokens_b, max_length):","    \"\"\"Truncates a sequence pair in place to the maximum length.\"\"\"",>17
|<"    while True:","        total_length = len(tokens_a) + len(tokens_b)","        if total_length <= max_length:","            break","        if len(tokens_a) > len(tokens_b):","            tokens_a.pop()","        else:","            tokens_b.pop()","","","def eval_precision_bm45_dataloader(dataloader, ks=[1, 5, 10], number_of_samples=None):","    label_ids = torch.cat([label_ids for _, _, _, label_ids, _ in dataloader])","    label_ids = label_ids + 1","    p = {}","",>18
|<"    for k in ks:","        p[k] = 0","","    for label in label_ids:","        if label > 0:","            for k in ks:","                if label <= k:","                    p[k] += 1","","    for k in ks:","        if number_of_samples is None:","            p[k] /= len(label_ids)","        else:","            p[k] /= number_of_samples","","    return p",""
"9	LINE	0
	
|3,0,9,1,1,0,1600541809,""
""-	CHAR	0
	blink
|3,1,36,0,1,0,1600728205,"blink"

# File marks:
'0  516  67  ~/biencoder/data_process.py
|4,48,516,67,1600731847,"~/biencoder/data_process.py"
'1  23  0  ~/candidate_ranking/utils.py
|4,49,23,0,1600728541,"~/candidate_ranking/utils.py"
'2  38  9  ~/biencoder/train_biencoder.py
|4,50,38,9,1600728199,"~/biencoder/train_biencoder.py"
'3  16  9  ~/build_faiss_index.py
|4,51,16,9,1600728174,"~/build_faiss_index.py"
'4  28  9  ~/main_dense.py
|4,52,28,9,1600728166,"~/main_dense.py"
'5  57  4  ~/biencoder/data_process.py
|4,53,57,4,1600541827,"~/biencoder/data_process.py"
'6  57  4  ~/biencoder/data_process.py
|4,54,57,4,1600541827,"~/biencoder/data_process.py"
'7  18  0  ~/biencoder/data_process.py
|4,55,18,0,1600541608,"~/biencoder/data_process.py"
'8  18  0  ~/biencoder/data_process.py
|4,56,18,0,1600541608,"~/biencoder/data_process.py"
'9  18  0  ~/biencoder/data_process.py
|4,57,18,0,1600541608,"~/biencoder/data_process.py"

# Jumplist (newest first):
-'  516  67  ~/biencoder/data_process.py
|4,39,516,67,1600731847,"~/biencoder/data_process.py"
-'  23  0  ~/candidate_ranking/utils.py
|4,39,23,0,1600728541,"~/candidate_ranking/utils.py"
-'  91  0  ~/candidate_ranking/utils.py
|4,39,91,0,1600728414,"~/candidate_ranking/utils.py"
-'  64  0  ~/candidate_ranking/utils.py
|4,39,64,0,1600728397,"~/candidate_ranking/utils.py"
-'  38  0  ~/candidate_ranking/utils.py
|4,39,38,0,1600728381,"~/candidate_ranking/utils.py"
-'  20  51  ~/candidate_ranking/utils.py
|4,39,20,51,1600728375,"~/candidate_ranking/utils.py"
-'  94  11  ~/candidate_ranking/utils.py
|4,39,94,11,1600728323,"~/candidate_ranking/utils.py"
-'  1  0  ~/candidate_ranking/utils.py
|4,39,1,0,1600728204,"~/candidate_ranking/utils.py"
-'  38  9  ~/biencoder/train_biencoder.py
|4,39,38,9,1600728199,"~/biencoder/train_biencoder.py"
-'  38  9  ~/biencoder/train_biencoder.py
|4,39,38,9,1600728199,"~/biencoder/train_biencoder.py"
-'  41  5  ~/biencoder/train_biencoder.py
|4,39,41,5,1600728196,"~/biencoder/train_biencoder.py"
-'  41  5  ~/biencoder/train_biencoder.py
|4,39,41,5,1600728196,"~/biencoder/train_biencoder.py"
-'  16  9  ~/build_faiss_index.py
|4,39,16,9,1600728174,"~/build_faiss_index.py"
-'  16  9  ~/build_faiss_index.py
|4,39,16,9,1600728174,"~/build_faiss_index.py"
-'  16  9  ~/build_faiss_index.py
|4,39,16,9,1600728174,"~/build_faiss_index.py"
-'  16  9  ~/build_faiss_index.py
|4,39,16,9,1600728174,"~/build_faiss_index.py"
-'  28  9  ~/main_dense.py
|4,39,28,9,1600728166,"~/main_dense.py"
-'  28  9  ~/main_dense.py
|4,39,28,9,1600728166,"~/main_dense.py"
-'  28  9  ~/main_dense.py
|4,39,28,9,1600728166,"~/main_dense.py"
-'  28  9  ~/main_dense.py
|4,39,28,9,1600728166,"~/main_dense.py"
-'  28  9  ~/main_dense.py
|4,39,28,9,1600728166,"~/main_dense.py"
-'  28  9  ~/main_dense.py
|4,39,28,9,1600728166,"~/main_dense.py"
-'  28  9  ~/main_dense.py
|4,39,28,9,1600728166,"~/main_dense.py"
-'  28  9  ~/main_dense.py
|4,39,28,9,1600728166,"~/main_dense.py"
-'  20  11  ~/main_dense.py
|4,39,20,11,1600728160,"~/main_dense.py"
-'  20  11  ~/main_dense.py
|4,39,20,11,1600728160,"~/main_dense.py"
-'  20  11  ~/main_dense.py
|4,39,20,11,1600728160,"~/main_dense.py"
-'  20  11  ~/main_dense.py
|4,39,20,11,1600728160,"~/main_dense.py"
-'  20  11  ~/main_dense.py
|4,39,20,11,1600728160,"~/main_dense.py"
-'  20  11  ~/main_dense.py
|4,39,20,11,1600728160,"~/main_dense.py"
-'  20  11  ~/main_dense.py
|4,39,20,11,1600728160,"~/main_dense.py"
-'  20  11  ~/main_dense.py
|4,39,20,11,1600728160,"~/main_dense.py"
-'  32  0  ~/main_dense.py
|4,39,32,0,1600728157,"~/main_dense.py"
-'  32  0  ~/main_dense.py
|4,39,32,0,1600728157,"~/main_dense.py"
-'  32  0  ~/main_dense.py
|4,39,32,0,1600728157,"~/main_dense.py"
-'  32  0  ~/main_dense.py
|4,39,32,0,1600728157,"~/main_dense.py"
-'  32  0  ~/main_dense.py
|4,39,32,0,1600728157,"~/main_dense.py"
-'  32  0  ~/main_dense.py
|4,39,32,0,1600728157,"~/main_dense.py"
-'  32  0  ~/main_dense.py
|4,39,32,0,1600728157,"~/main_dense.py"
-'  32  0  ~/main_dense.py
|4,39,32,0,1600728157,"~/main_dense.py"
-'  659  39  ~/biencoder/data_process.py
|4,39,659,39,1600672477,"~/biencoder/data_process.py"
-'  639  39  ~/biencoder/data_process.py
|4,39,639,39,1600672468,"~/biencoder/data_process.py"
-'  504  14  ~/biencoder/data_process.py
|4,39,504,14,1600672453,"~/biencoder/data_process.py"
-'  617  44  ~/biencoder/data_process.py
|4,39,617,44,1600672439,"~/biencoder/data_process.py"
-'  593  39  ~/biencoder/data_process.py
|4,39,593,39,1600672429,"~/biencoder/data_process.py"
-'  570  41  ~/biencoder/data_process.py
|4,39,570,41,1600672422,"~/biencoder/data_process.py"
-'  548  4  ~/biencoder/data_process.py
|4,39,548,4,1600672341,"~/biencoder/data_process.py"
-'  512  34  ~/biencoder/data_process.py
|4,39,512,34,1600541843,"~/biencoder/data_process.py"
-'  511  21  ~/biencoder/data_process.py
|4,39,511,21,1600541842,"~/biencoder/data_process.py"
-'  498  4  ~/biencoder/data_process.py
|4,39,498,4,1600541842,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541839,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  57  4  ~/biencoder/data_process.py
|4,39,57,4,1600541827,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  536  19  ~/biencoder/data_process.py
|4,39,536,19,1600541811,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"
-'  501  4  ~/biencoder/data_process.py
|4,39,501,4,1600541800,"~/biencoder/data_process.py"

# History of marks within files (newest to oldest):

> ~/candidate_ranking/utils.py
	*	1600728541	0
	"	23	0
	^	63	0
	.	23	0
	+	20	0
	+	38	0
	+	64	0
	+	23	0
	+	91	0
	+	51	0
	+	37	0
	+	95	0
	+	20	0
	+	91	0
	+	64	0
	+	63	0
	+	51	0
	+	38	0
	+	23	0

> ~/biencoder/train_biencoder.py
	*	1600728199	0
	"	38	9
	^	38	10
	.	38	9
	+	34	0
	+	35	0
	+	39	0
	+	42	0
	+	43	0
	+	42	0
	+	596	0
	+	38	9

> ~/build_faiss_index.py
	*	1600728174	0
	"	16	9
	^	16	10
	.	16	9
	+	15	0
	+	16	9

> ~/main_dense.py
	*	1600728162	0
	"	28	9
	^	28	10
	.	28	9
	+	10	0
	+	22	0
	+	23	0
	+	31	0
	+	32	0
	+	28	9

> ~/biencoder/data_process.py
	*	1600672503	0
	"	516	67
	^	516	68
	.	516	67
	+	18	0
	+	517	0
	+	516	76
	+	501	27
	+	536	0
	+	516	42
	+	570	41
	+	593	39
	+	617	44
	+	504	14
	+	639	39
	+	659	39
	+	516	206
	+	516	67

> ~/common/params.py
	*	1600541554	0
	"	62	0
	.	62	0
	+	28	0
	+	36	0
	+	44	0
	+	46	0
	+	49	0
	+	55	0
	+	56	0
	+	60	0
	+	21	0
	+	8	0
	+	29	0
	+	37	0
	+	49	0
	+	62	0

> ~/biencoder/biencoder.py
	*	1600541347	0
	"	1	0
